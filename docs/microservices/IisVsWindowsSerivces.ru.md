# IIS vs Windows services 

## Сравнение разворачивания приложения на IIS и как Windows service

### Управление процессом

- Приложение, развернутое как Windows service, имеет более прямое управление над каждым отдельным процессом.
- Однако приложение на IIS с помощью пулов приложений позволяет группировать приложения и более общим образом настраивать их.

### Изоляция приложений

- Поскольку Windows services - это независимые друг от друга приложения, то если один из Windows services завершается из-за сбоя, это не повлияет на работу других служб. Соответственно, Windows service обеспечивает лучшую изоляцию, так как не зависит от состояния IIS и пулов приложений.
- В случае с IIS и пулами приложений, сбой в одном приложении или пуле может повлиять на другие приложения в этом же пуле.

### Устойчивость

В плане устойчивости IIS выигрывает, поскольку обладает следующими встроенными функциями:

- Автоматическое восстановление: IIS может автоматически перезапускать пулы приложений после сбоя.
- Мониторинг и журналирование: Возможность мониторить работу каждого пула и анализировать причины сбоев.
- Управление ошибками: Можно настроить обработку ошибок для каждого пула приложений.
- Резервное копирование и восстановление: IIS предоставляет инструменты для создания резервных копий и восстановления конфигурации пулов приложений.

### Управление ресурсами

#### Гибкость

В плане гибкости управления ресурсами выигрывает Windows service:

- Windows service может более гибко управлять ресурсами компьютера, такими как память, потому что он работает в отдельном процессе и имеет более прямой доступ к системным ресурсам. 
- Приложения на IIS работают в контексте веб-сервера и ограничены настройками пула приложений, что может снизить гибкость управления ресурсами.

#### Конфигурация 

В плане конфигурации управления ресурсами выигрывает IIS, поскольку обладает следующими преимуществами:

1. Ограничение ресурсов: Можно настроить ограничения по использованию CPU, памяти и других ресурсов для каждого пула приложений.
2. Мониторинг ресурсов: IIS предоставляет инструменты для мониторинга использования ресурсов каждого пула приложений.
3. Поведение при перегрузке: При перегрузке сервера IIS может автоматически перезапускать или ограничивать работу пулов приложений.
4. Управление сессиями: Возможность управлять состоянием сессий для каждого пула приложений.

### Балансировка нагрузки и масштабирование

#### IIS

Приложения на IIS легче масштабируются, так как IIS предоставляет удобный механизм для балансировки нагрузки и масштабирования.

Механизм балансировки нагрузки и масштабирования в IIS предоставляет следующие особенности:
1. Сетевая нагрузка: IIS может распределять запросы между различными серверами для балансировки нагрузки.
2. Гибкость конфигурации: Возможность настроить различные алгоритмы балансировки нагрузки и масштабирования.
3. Автоматическое масштабирование: IIS может автоматически масштабировать количество экземпляров приложений в зависимости от нагрузки.
4. Мониторинг производительности: Возможность мониторить производительность и использование ресурсов для принятия решений о масштабировании.
5. Резервное копирование и восстановление конфигурации: Возможность создания резервных копий конфигурации для быстрого восстановления.

#### Windows services

Для Windows services не существует встроенного механизма балансировки нагрузки и масштабирования, как в IIS. 

Однако, для обеспечения высокой доступности и масштабируемости Windows services, можно использовать сторонние инструменты или решения, такие как кластеризация, контейнеризация или облачные сервисы. Каждый из этих подходов предоставляет свои собственные механизмы балансировки нагрузки и масштабирования для Windows services.

### Выводы

Резюмируя, как IIS, так и Windows services является хорошим выбором для развертывания приложений: Windows services предоставляют больше гибкости, но IIS имеет более богатый функционал для конфигурации и масштабирования.

| Критерий | IIS | Windows services |
| --- | --- | --- |
| Управление процессом | + | + |
| Изоляция приложений | - | + |
| Устойчивость | + | - |
| Управление ресурсами: гибкость | - | + |
| Управление ресурсами: конфигурация | + | - |
| Балансировка нагрузки и масштабирование | + | + |

## Удаленное управление сервисами

### Windows service

Для удаленного управления службами на других компьютерах можно использовать инструменты удаленного администрирования Windows (например, MMC или PowerShell), либо написать собственное приложение, использующее API для управления службами.

### IIS

Удаленное управление веб-приложениями на IIS обычно происходит через удаленное управление IIS (Remote Management) или через PowerShell с модулем WebAdministration. Можно также использовать инструменты сторонних разработчиков.
